<!DOCTYPE html><HTML lang="en"><head><script charset="utf-8" src="../../../../../../../assets/default/multidoc_injector.js" type="text/javascript"></script><script charset="utf-8" type="text/javascript">window.MULTIDOCUMENTER_ROOT_PATH = '/'</script><script charset="utf-8" src="../../../../../../../assets/default/flexsearch.bundle.js" type="text/javascript"></script><script charset="utf-8" src="../../../../../../../assets/default/flexsearch_integration.js" type="text/javascript"></script><script charset="utf-8" src="https://www.googletagmanager.com/gtag/js?id=G-K7LNGMSXLE" type="text/javascript"></script><script charset="utf-8" type="text/javascript">window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-K7LNGMSXLE');
</script><script charset="utf-8" src="../../../../../../assets/default/multidoc_injector.js" type="text/javascript"></script><script charset="utf-8" type="text/javascript">window.MULTIDOCUMENTER_ROOT_PATH = '/'</script><script charset="utf-8" src="../../../../../../assets/default/flexsearch.bundle.js" type="text/javascript"></script><script charset="utf-8" src="../../../../../../assets/default/flexsearch_integration.js" type="text/javascript"></script><script charset="utf-8" src="../../../../../assets/default/multidoc_injector.js" type="text/javascript"></script><script charset="utf-8" type="text/javascript">window.MULTIDOCUMENTER_ROOT_PATH = '/'</script><script charset="utf-8" src="../../../../../assets/default/flexsearch.bundle.js" type="text/javascript"></script><script charset="utf-8" src="../../../../../assets/default/flexsearch_integration.js" type="text/javascript"></script><script charset="utf-8" src="../../../../assets/default/multidoc_injector.js" type="text/javascript"></script><script charset="utf-8" type="text/javascript">window.MULTIDOCUMENTER_ROOT_PATH = '/'</script><script charset="utf-8" src="../../../../assets/default/flexsearch.bundle.js" type="text/javascript"></script><script charset="utf-8" src="../../../../assets/default/flexsearch_integration.js" type="text/javascript"></script><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>Reading Ephemeris Data · Ephemerides.jl</title><meta content="Reading Ephemeris Data · Ephemerides.jl" name="title"/><meta content="Reading Ephemeris Data · Ephemerides.jl" property="og:title"/><meta content="Reading Ephemeris Data · Ephemerides.jl" property="twitter:title"/><meta content="Documentation for Ephemerides.jl." name="description"/><meta content="Documentation for Ephemerides.jl." property="og:description"/><meta content="Documentation for Ephemerides.jl." property="twitter:description"/><script data-outdated-warner="" src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script data-main="../../assets/documenter.js" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" data-theme-name="documenter-dark" data-theme-primary-dark="" href="../../assets/themes/documenter-dark.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-light" data-theme-primary="" href="../../assets/themes/documenter-light.css" rel="stylesheet" type="text/css"/><script src="../../assets/themeswap.js"></script><link href="https://juliaspacemissiondesign.github.io/JSMDocs/Overview/Overview/Ephemerides/v1.2.0/tutorials/position/" rel="canonical"/><link href="../../../../assets/default/multidoc.css" rel="stylesheet" type="text/css"/><link href="../../../../assets/default/flexsearch.css" rel="stylesheet" type="text/css"/><link href="../../../../../assets/default/multidoc.css" rel="stylesheet" type="text/css"/><link href="../../../../../assets/default/flexsearch.css" rel="stylesheet" type="text/css"/><link href="../../../../../../assets/default/multidoc.css" rel="stylesheet" type="text/css"/><link href="../../../../../../assets/default/flexsearch.css" rel="stylesheet" type="text/css"/><link href="../../../../../../../assets/default/multidoc.css" rel="stylesheet" type="text/css"/><link href="../../../../../../../assets/default/flexsearch.css" rel="stylesheet" type="text/css"/></head><body><nav id="multi-page-nav"><div class="hidden-on-mobile" id="nav-items"><a class="nav-link active nav-item" href="../../../../../../">Home</a><div class="nav-dropdown"><button class="nav-item dropdown-label">Core</button><ul class="nav-dropdown-container"><a class="nav-link nav-item" href="../../../../../../../Ephemerides/">Ephemerides</a><a class="nav-link nav-item" href="../../../../../../../Tempo/">Tempo</a><a class="nav-link nav-item" href="../../../../../../../FrameTransformations/">FrameTransformations</a></ul></div><div class="search nav-item"><input id="search-input" placeholder="Search..."/><ul class="suggestions hidden" id="search-result-container"></ul><div class="search-keybinding">/</div></div></div><button id="multidoc-toggler"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg></button></nav><nav id="multi-page-nav"><div class="hidden-on-mobile" id="nav-items"><a class="nav-link active nav-item" href="../../../../../">Home</a><div class="nav-dropdown"><button class="nav-item dropdown-label">Core</button><ul class="nav-dropdown-container"><a class="nav-link nav-item" href="../../../../../../Ephemerides/">Ephemerides</a><a class="nav-link nav-item" href="../../../../../../Tempo/">Tempo</a><a class="nav-link nav-item" href="../../../../../../FrameTransformations/">FrameTransformations</a></ul></div><div class="search nav-item"><input id="search-input" placeholder="Search..."/><ul class="suggestions hidden" id="search-result-container"></ul><div class="search-keybinding">/</div></div></div><button id="multidoc-toggler"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg></button></nav><nav id="multi-page-nav"><div class="hidden-on-mobile" id="nav-items"><a class="nav-link active nav-item" href="../../../../">Home</a><div class="nav-dropdown"><button class="nav-item dropdown-label">Core</button><ul class="nav-dropdown-container"><a class="nav-link nav-item" href="../../../../../Ephemerides/">Ephemerides</a><a class="nav-link nav-item" href="../../../../../Tempo/">Tempo</a><a class="nav-link nav-item" href="../../../../../FrameTransformations/">FrameTransformations</a></ul></div><div class="search nav-item"><input id="search-input" placeholder="Search..."/><ul class="suggestions hidden" id="search-result-container"></ul><div class="search-keybinding">/</div></div></div><button id="multidoc-toggler"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg></button></nav><nav id="multi-page-nav"><div class="hidden-on-mobile" id="nav-items"><a class="nav-link nav-item" href="../../../../Overview/">Home</a><div class="nav-dropdown"><button class="nav-item dropdown-label">Core</button><ul class="nav-dropdown-container"><a class="nav-link active nav-item" href="../../../">Ephemerides</a><a class="nav-link nav-item" href="../../../../Tempo/">Tempo</a><a class="nav-link nav-item" href="../../../../FrameTransformations/">FrameTransformations</a></ul></div><div class="search nav-item"><input id="search-input" placeholder="Search..."/><ul class="suggestions hidden" id="search-result-container"></ul><div class="search-keybinding">/</div></div></div><button id="multidoc-toggler"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg></button></nav><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Ephemerides.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../load/">Loading Kernels</a></li><li class="is-active"><a class="tocitem" href="">Reading Ephemeris Data</a><ul class="internal"><li><a class="tocitem" href="#Computing-state-vectors"><span>Computing state vectors</span></a></li><li><a class="tocitem" href="#Computing-orientation-angles"><span>Computing orientation angles</span></a></li></ul></li><li><a class="tocitem" href="../inspect/">Kernels Inspection</a></li></ul></li><li><a class="tocitem" href="../../benchmarks/">Benchmarks</a></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../../api/api/">Public API</a></li><li><a class="tocitem" href="../../api/lapi/">Low-level API</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" href="#" id="documenter-sidebar-button"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href="">Reading Ephemeris Data</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="">Reading Ephemeris Data</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaSpaceMissionDesign/Ephemerides.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaSpaceMissionDesign/Ephemerides.jl/blob/main/docs/src/tutorials/position.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" href="#" id="documenter-settings-button" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" href="javascript:;" id="documenter-article-toggle-button" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Reading-Ephemeris-Data"><a class="docs-heading-anchor" href="#Reading-Ephemeris-Data">Reading Ephemeris Data</a><a id="Reading-Ephemeris-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Reading-Ephemeris-Data" title="Permalink"></a></h1><p>This tutorials will walk you through the basic features and interfaces that allow you to compute translation and orientation data from binary ephemeris kernels.</p><h2 id="Computing-state-vectors"><a class="docs-heading-anchor" href="#Computing-state-vectors">Computing state vectors</a><a id="Computing-state-vectors-1"></a><a class="docs-heading-anchor-permalink" href="#Computing-state-vectors" title="Permalink"></a></h2><p><code>Ephemerides.jl</code> allows the computation of a relative position between two points and its higher order derivatives up to order 3 (i.e., velocity, acceleration and jerk). All these computations are natively  thread-safe and compatible with Automatic Differentiation (AD) with respect to time via <a href="https://github.com/JuliaDiff/ForwardDiff.jl">ForwardDiff.jl</a>.</p><p>In particular, the following methods are available to compute translation data: </p><pre><code class="nohighlight hljs">ephem_vector3(eph, from, to, time)
ephem_vector6(eph, from, to, time)
ephem_vector9(eph, from, to, time)
ephem_vector12(eph, from, to, time)</code></pre><p>They all share the same interface, requiring an <code>EphemerisProvider</code> object as the first input. <code>from</code> and <code>to</code> are integer numbers representing the ID of the center and target points that we desired. The <code>time</code> argument is expressed in TDB seconds since J2000.0.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Differently, from traditional ephemerides readers, <code>Ephemerides.jl</code> is only meant to read the data stored in the binary kernels and it does not perform any concatenation of state vectors. This means that if data from point 399 is expressed with respect to point 3, we will only be able to compute the relative position of 339 with respect to 3 or viceversa, but not of 399 with respect to another point. The reason behind this is that <code>Ephemerides.jl</code> is meant to be used in combination with <a href="https://juliaspacemissiondesign.github.io/FrameTransformations.jl/stable/">FrameTransformations.jl</a>, which already enables tranformations between different user-defined point and axes.</p></div></div><p>An example to compute the position of the Moon (399) with respect to the Earth-Moon Barycenter (3) at J2000 (time = 0), is the following: </p><pre><code class="language-julia hljs">using Ephemerides

# Load an ephemeris kernel containing the requested data
kernel = "path_to_de440"
eph = EphemerisProvider(kernel)

# Compute the position
pos = ephem_vector3(eph, 3, 399, 0)</code></pre><p>Instead, if one desires the whole state vector, up to the jerk components, the functions become: </p><pre><code class="language-julia hljs"># Compute position and velocity 
pv = ephem_vector6(eph, 3, 399, 0)

# Compute position, velocity and acceleration
pva = ephem_vector9(eph, 3, 399, 0)

# Compute position, velocity, acceleration and jerk
pvaj = ephem_vector12(eph, 3, 399, 0)</code></pre><p>In all these examples, the returned data is always in the form of a <code>StaticArray</code> in order to minimise memory allocations.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>SPK segments of types 1 and 21 do not natively support acceleration and jerk computations. However, these values can be computed by Automatic Differentiation (AD) of the position and/or velocity components.</p></div></div><h2 id="Computing-orientation-angles"><a class="docs-heading-anchor" href="#Computing-orientation-angles">Computing orientation angles</a><a id="Computing-orientation-angles-1"></a><a class="docs-heading-anchor-permalink" href="#Computing-orientation-angles" title="Permalink"></a></h2><p>Similarly to position components, <code>Ephemerides.jl</code> also allows the computation of orientation angles and their derivatives up to order 3. All these computations are natively thread-safe and compatible with Automatic Differentiation (AD) with respect to time via <a href="https://github.com/JuliaDiff/ForwardDiff.jl">ForwardDiff.jl</a>.</p><p>In particular, the following methods are available to compute orientation data: </p><pre><code class="nohighlight hljs">ephem_rotation3(eph, from, to, time)
ephem_rotation6(eph, from, to, time)
ephem_rotation9(eph, from, to, time)
ephem_rotation12(eph, from, to, time)</code></pre><p>Again, they all share the same interface, requiring an <a href="../../api/api/#Ephemerides.EphemerisProvider"><code>EphemerisProvider</code></a> object as the first input. <code>from</code> and <code>to</code> are integer numbers representing the ID of the reference and target axes that we desired. The <code>time</code> argument is expressed in TDB seconds since J2000.0.</p><p>An example to compute the Euler angles of the PA440 axes (31008) with respect to the ICRF (1) at J2000 (time = 0), is the following: </p><pre><code class="language-julia hljs">using Ephemerides

# Load an ephemeris kernel containing the requested data
kernel = "path_to_pa440"
eph = EphemerisProvider(kernel)

# Compute the position
ang = ephem_rotation3(eph, 1, 31008, 0)</code></pre><p>Instead, if one desires the whole vector, up to the 3rd order derivative, the functions become: </p><pre><code class="language-julia hljs"># Compute angles and derivatives 
pv = ephem_rotation6(eph, 1, 31008, 0)
pva = ephem_rotation9(eph, 1, 31008, 0)
pvaj = ephem_rotation12(eph, 1, 31008, 0)</code></pre><p>The returned orientation data is always in the form of a <code>StaticArray</code> in order to minimise memory allocations.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Differently from the translational data contained in SPK kernels, the orientation angles can only be computed in one direction, i.e., if the orientation of the Moon's Principal Axes (PA) is defined with respect to the ICRF, it is not possible to compute the rotation from the PA to the ICRF with this routine. </p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../load/">« Loading Kernels</a><a class="docs-footer-nextpage" href="../inspect/">Kernels Inspection »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label></p><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div><p></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Sunday 26 November 2023 15:25">Sunday 26 November 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></HTML>