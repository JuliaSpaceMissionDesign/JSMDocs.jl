<!DOCTYPE html><HTML lang="en"><head><script charset="utf-8" src="../../../../../assets/default/multidoc_injector.js" type="text/javascript"></script><script charset="utf-8" type="text/javascript">window.MULTIDOCUMENTER_ROOT_PATH = '/'</script><script charset="utf-8" src="../../../../../assets/default/flexsearch.bundle.js" type="text/javascript"></script><script charset="utf-8" src="../../../../../assets/default/flexsearch_integration.js" type="text/javascript"></script><script charset="utf-8" src="../../../../assets/default/multidoc_injector.js" type="text/javascript"></script><script charset="utf-8" type="text/javascript">window.MULTIDOCUMENTER_ROOT_PATH = '/'</script><script charset="utf-8" src="../../../../assets/default/flexsearch.bundle.js" type="text/javascript"></script><script charset="utf-8" src="../../../../assets/default/flexsearch_integration.js" type="text/javascript"></script><script charset="utf-8" src="https://www.googletagmanager.com/gtag/js?id=G-K7LNGMSXLE" type="text/javascript"></script><script charset="utf-8" type="text/javascript">window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-K7LNGMSXLE');
</script><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>05 - Use Case: High Fidelity · FrameTransformations.jl</title><meta content="05 - Use Case: High Fidelity · FrameTransformations.jl" name="title"/><meta content="05 - Use Case: High Fidelity · FrameTransformations.jl" property="og:title"/><meta content="05 - Use Case: High Fidelity · FrameTransformations.jl" property="twitter:title"/><meta content="Documentation for FrameTransformations.jl." name="description"/><meta content="Documentation for FrameTransformations.jl." property="og:description"/><meta content="Documentation for FrameTransformations.jl." property="twitter:description"/><script data-outdated-warner="" src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script data-main="../../assets/documenter.js" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" data-theme-name="documenter-dark" data-theme-primary-dark="" href="../../assets/themes/documenter-dark.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-light" data-theme-primary="" href="../../assets/themes/documenter-light.css" rel="stylesheet" type="text/css"/><script src="../../assets/themeswap.js"></script><link href="https://juliaspacemissiondesign.github.io/Home/Home/v1.2.0/Tutorials/t04_hifi/" rel="canonical"/><link href="../../../../assets/default/multidoc.css" rel="stylesheet" type="text/css"/><link href="../../../../assets/default/flexsearch.css" rel="stylesheet" type="text/css"/><link href="../../../../../assets/default/multidoc.css" rel="stylesheet" type="text/css"/><link href="../../../../../assets/default/flexsearch.css" rel="stylesheet" type="text/css"/></head><body><nav id="multi-page-nav"><div class="hidden-on-mobile" id="nav-items"><a class="nav-link active nav-item" href="../../../../">Home</a><div class="nav-dropdown"><button class="nav-item dropdown-label">Core</button><ul class="nav-dropdown-container"><a class="nav-link nav-item" href="../../../../../Ephemerides/">Ephemerides</a><a class="nav-link nav-item" href="../../../../../Tempo/">Tempo</a><a class="nav-link nav-item" href="../../../../../FrameTransformations/">FrameTransformations</a></ul></div><div class="search nav-item"><input id="search-input" placeholder="Search..."/><ul class="suggestions hidden" id="search-result-container"></ul><div class="search-keybinding">/</div></div></div><button id="multidoc-toggler"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg></button></nav><nav id="multi-page-nav"><div class="hidden-on-mobile" id="nav-items"><a class="nav-link nav-item" href="../../../../Home/">Home</a><div class="nav-dropdown"><button class="nav-item dropdown-label">Core</button><ul class="nav-dropdown-container"><a class="nav-link nav-item" href="../../../../Ephemerides/">Ephemerides</a><a class="nav-link nav-item" href="../../../../Tempo/">Tempo</a><a class="nav-link active nav-item" href="../../../">FrameTransformations</a></ul></div><div class="search nav-item"><input id="search-input" placeholder="Search..."/><ul class="suggestions hidden" id="search-result-container"></ul><div class="search-keybinding">/</div></div></div><button id="multidoc-toggler"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg></button></nav><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img alt="FrameTransformations.jl logo" src="../../assets/logo.png"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">FrameTransformations.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../t00_frames/">01 - Frame System</a></li><li><a class="tocitem" href="../t01_axes/">02 - Axes</a></li><li><a class="tocitem" href="../t02_points/">03 - Points</a></li><li><a class="tocitem" href="../t03_cr3bp/">04 - Use Case: CR3BP</a></li><li class="is-active"><a class="tocitem" href="">05 - Use Case: High Fidelity</a></li><li><a class="tocitem" href="../t05_multithread/">06 - Multithreading</a></li></ul></li><li><a class="tocitem" href="../../benchmarks/">Benchmarks</a></li><li><span class="tocitem">Modules</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Frames</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Modules/frames_api/">Public API</a></li><li><a class="tocitem" href="../../Modules/frames_lapi/">Low-level API</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Orient</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Modules/orient_api/">Public API</a></li><li><a class="tocitem" href="../../Modules/orient_lapi/">Low-level API</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Utils</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Modules/utils_api/">Public API</a></li><li><a class="tocitem" href="../../Modules/utils_lapi/">Low-level API</a></li></ul></li></ul></li><li><a class="tocitem" href="../../roadmap/">Roadmap</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" href="#" id="documenter-sidebar-button"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href="">05 - Use Case: High Fidelity</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="">05 - Use Case: High Fidelity</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaSpaceMissionDesign/FrameTransformations.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaSpaceMissionDesign/FrameTransformations.jl/blob/main/docs/src/Tutorials/t04_hifi.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" href="#" id="documenter-settings-button" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" href="javascript:;" id="documenter-article-toggle-button" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="tutorial_04_hifi"><a class="docs-heading-anchor" href="#tutorial_04_hifi">Use Case: High Fidelity</a><a id="tutorial_04_hifi-1"></a><a class="docs-heading-anchor-permalink" href="#tutorial_04_hifi" title="Permalink"></a></h1><p>Once the general structure of the <a href="../../Modules/frames_api/#FrameTransformations.Frames.FrameSystem"><code>FrameSystem</code></a> is understood, we can pass to a use case in which we want to build and exploit our frame system to perform computations in a high-fidelity environment. </p><h3 id="Frame-system-setup"><a class="docs-heading-anchor" href="#Frame-system-setup">Frame system setup</a><a id="Frame-system-setup-1"></a><a class="docs-heading-anchor-permalink" href="#Frame-system-setup" title="Permalink"></a></h3><p>In this example, we plan on using ephemeris data to retrieve accurate positions of the planets and the orientation of certain reference frames. Therefore, we create an ephemeris provider object leveraging our own <a href="https://github.com/JuliaSpaceMissionDesign/Ephemerides.jl"><code>Ephemerides.jl</code></a> package and use it to generate a frame system instance:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Ephemerides, Downloads</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; url_pck = "https://naif.jpl.nasa.gov/pub/naif/generic_kernels/pck/moon_pa_de421_1900-2050.bpc";</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; url_spk = "https://naif.jpl.nasa.gov/pub/naif/generic_kernels/spk/planets/a_old_versions/de421.bsp";</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; eph = EphemerisProvider([Downloads.download(url_spk), Downloads.download(url_pck)])</code><code class="nohighlight hljs ansi" style="display:block;">2-kernel EphemerisProvider:
 "/tmp/jl_YdAZ4rgHa9"
 "/tmp/jl_OhO9mF8dSR"</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; FRAMES = FrameSystem{3, Float64}(eph)</code><code class="nohighlight hljs ansi" style="display:block;">FrameSystem{3, Float64, BarycentricDynamicalTime, Ephemerides.EphemerisProvider}(
  eph: 2-kernel EphemerisProvider,
  points: EMPTY
  axes: EMPTY
)</code></pre><p>Once the graph is created, we assign the <code>GCRF</code> (Geocentric Celestial Reference Frame) as our set of inertial root-axes:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; @axes GCRF 1 GeocentricCelestialReferenceFrame</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_axes_inertial!(FRAMES, GCRF)</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>These axes are practically coincident with the <code>ICRF</code>. To do so, we can leverage the possibility to define multiple aliases that are associated to the same integer ID. Thus let's create an alias of the <code>GCRF</code> and call it <code>ICRF</code>: </p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; @axes ICRF 1 InternationalCelestialReferenceFrame</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: LoadError: UndefVarError: `@axes` not defined
in expression starting at REPL[1]:1</code></pre><p>In this scenario, we will be working within the Cislunar environment, therefore we will need the major bodies that influence this dynamic regime, i..e, the Earth, the Moon and the Sun. To do so, we also define the Solar System Barycenter (SSB) and the Earth-Moon Barycenter (EMB) as the ephemeris data of the remaining bodies is expressed with respect to those. </p><p>For this example, we will assume the SSB is our root point:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; @point SSB 0</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @point EMB 3</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @point Sun 10</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @point Earth 399</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @point Moon 301</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_point_root!(FRAMES, SSB, GCRF)</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_point_ephemeris!(FRAMES, EMB)</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_point_ephemeris!(FRAMES, Earth)</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_point_ephemeris!(FRAMES, Moon)</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_point_ephemeris!(FRAMES, Sun)</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><h3 id="Registering-body-fixed-axes"><a class="docs-heading-anchor" href="#Registering-body-fixed-axes">Registering body-fixed axes</a><a id="Registering-body-fixed-axes-1"></a><a class="docs-heading-anchor-permalink" href="#Registering-body-fixed-axes" title="Permalink"></a></h3><p>At this point, we want to be able to transform back and forth from body-fixed axes of the Earth  and the Moon to the <code>GCRF</code>. The Earth and the Moon cases are actually <em>special cases</em> because  they have both high-accuracy and low-precision body-fixed rotation models. </p><p>Let's start with the low precision ones: <code>IAU_EARTH</code> and <code>IAU_MOON</code>. To register such frames,  we first need to parse a <a href="../../Modules/utils_api/#FrameTransformations.Utils.TPC"><code>TPC</code></a> file with the required constants:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; tpc = "https://naif.jpl.nasa.gov/pub/naif/generic_kernels/pck/pck00011.tpc";</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; iau = load(TPC(Downloads.download(tpc)));</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>At this point, we leverage the high-level interface provided by this package to automatically  generates ad-hoc functions from the IAU Rotational Elements via the <a href="../../Modules/frames_api/#FrameTransformations.Frames.add_axes_bcrtod!"><code>add_axes_bcrtod!</code></a> function. In particular, these axes are Body-Centric Rotating, True-of-Date axes, or BCR-TOD (which  are the <code>FrameTransformations</code> way of representing SPICE <code>IAU_XXX</code> axes).</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; @axes IAU_EARTH 3</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @axes IAU_MOON 4</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_axes_bcrtod!(FRAMES, iau, Earth, IAU_EARTH, ICRF);</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr33"><span class="sgr1">┌ Warning: </span></span>ignoring orient_rot9_icrf_to_bcr_tod_Earth, frame system order is less than 3
<span class="sgr33"><span class="sgr1">└ </span></span><span class="sgr90">@ FrameTransformations.Frames ~/work/FrameTransformations.jl/FrameTransformations.jl/src/Frames/axes.jl:494</span></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_axes_bcrtod!(FRAMES, iau, Moon, IAU_MOON, ICRF);</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr33"><span class="sgr1">┌ Warning: </span></span>ignoring orient_rot9_icrf_to_bcr_tod_Moon, frame system order is less than 3
<span class="sgr33"><span class="sgr1">└ </span></span><span class="sgr90">@ FrameTransformations.Frames ~/work/FrameTransformations.jl/FrameTransformations.jl/src/Frames/axes.jl:494</span></code></pre><p>The registration of this type of axes requires either an alias or the ID of the point associated to the body.</p><p>For convenience, let us also insert a set of inertial axes for the Moon. This can be done using the IAU-based Body-Centric Inertial J2000 axes available through the <a href="../../Modules/frames_api/#FrameTransformations.Frames.add_axes_bci2000!"><code>add_axes_bci2000!</code></a> function, which defines a rotation from the <code>ICRF</code> to the local equatorial plane of the body at the J2000 epoch.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; @axes LME2000 5</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_axes_bci2000!(FRAMES, iau, Moon, LME2000, ICRF);</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Finally, we complete the axes definition by inserting the high-precision Earth and Lunar body-fixed rotation models.  For this purpose, <code>FrameTransformations</code> provides two high-level functions that can be used to ease these definitions:  <a href="../../Modules/frames_api/#FrameTransformations.Frames.add_axes_itrf!"><code>add_axes_itrf!</code></a> and <a href="../../Modules/frames_api/#FrameTransformations.Frames.add_axes_pa421!"><code>add_axes_pa421!</code></a>.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; @axes ITRF 6</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @axes MOONPA_DE421 31006</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_axes_itrf!(FRAMES, ITRF, GCRF)</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr33"><span class="sgr1">┌ Warning: </span></span>ignoring #219, frame system order is less than 4
<span class="sgr33"><span class="sgr1">└ </span></span><span class="sgr90">@ FrameTransformations.Frames ~/work/FrameTransformations.jl/FrameTransformations.jl/src/Frames/axes.jl:494</span></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_axes_pa421!(FRAMES, MOONPA_DE421, ICRF)</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>The default ITRF model is the <a href="../../Modules/orient_api/#FrameTransformations.Orient.iau2006b"><code>iau2006b</code></a>, but other approximations are also <a href="../../Modules/orient_api/#iers_models">available</a>. If one was interested in the Moon's PA440 axes, a similar function named <a href="../../Modules/frames_api/#FrameTransformations.Frames.add_axes_pa440!"><code>add_axes_pa440!</code></a> is available.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>To correctly use the <a href="../../Modules/frames_api/#FrameTransformations.Frames.add_axes_pa421!"><code>add_axes_pa421!</code></a> function, the frame system must contain an ephemeris provider that has loaded the necessary PCK kernels with the DE421 data.</p></div></div><h3 id="Using-the-FrameSystem"><a class="docs-heading-anchor" href="#Using-the-FrameSystem">Using the <code>FrameSystem</code></a><a id="Using-the-FrameSystem-1"></a><a class="docs-heading-anchor-permalink" href="#Using-the-FrameSystem" title="Permalink"></a></h3><p>Now let's assume we have a spacecraft in orbit about the Moon in the <code>LME2000</code> axes, and we want to compute its position in the <code>GCRF</code> and with respect to both the Moon and the Earth surface. We then start by registering our spacecraft as an <a href="../t02_points/#updatable_points">updatable point</a>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; @point SC -1_900_000</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_point_updatable!(FRAMES, SC, Moon, LME2000)</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Therefore our final <code>FrameSystem</code> results in:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; FRAMES</code><code class="nohighlight hljs ansi" style="display:block;">FrameSystem{3, Float64, BarycentricDynamicalTime, Ephemerides.EphemerisProvider}(
  eph: 2-kernel EphemerisProvider,
  points:
	 SSB
	  ├── EMB
	   ├── Earth
	   ├── Moon
	    ├── SC
	  ├── Sun

  axes:
	GCRF
	 ├── IAU_EARTH
	 ├── IAU_MOON
	 ├── LME2000
	 ├── ITRF
	 ├── MOONPA_DE421

)</code></pre><p>To begin exploiting our newly completed frame system, we assumed that our <code>SC</code> is on a circular equatorial orbit around the Moon at an altitude of 500 km, so that at the epoch <code>e</code>, the spacecraft state vector is updated as:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; e = Epoch("2020-01-01T12:45:30.0 TDB");</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; x = [2274.0, 0.0, 0.0, 0.0, sqrt(4904.87/2274.0), 0.0];</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; update_point!(FRAMES, SC, x, e)</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The timescale used for the <code>Epoch</code> must be the same used in the <code>FrameSystem</code>.</p></div></div><p>At this point, we are completely free to compute the state of the spacecraft with respect to any other point registered in the frame system with respect to any known set of axes at the epoch <code>e</code>. For example, the state in the <code>LME2000</code> is: </p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; vector6(FRAMES, Moon, SC, LME2000, e)</code><code class="nohighlight hljs ansi" style="display:block;">6-element StaticArraysCore.SVector{6, Float64} with indices SOneTo(6):
 2274.0
    0.0
    0.0
    0.0
    1.4686507128813133
    0.0</code></pre><p>The spacecraft state with respect to the Earth in the <code>GCRF</code>, <code>IAU_EARTH</code> and <code>ITRF</code> is instead:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; vector6(FRAMES, Earth, SC, GCRF, e)</code><code class="nohighlight hljs ansi" style="display:block;">6-element StaticArraysCore.SVector{6, Float64} with indices SOneTo(6):
 401327.3108913339
 -36183.167308353884
 -54688.10677080455
      0.21054873683700087
      2.2235437515164302
      0.9632321102666086</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; vector6(FRAMES, Earth, SC, IAU_EARTH, e)</code><code class="nohighlight hljs ansi" style="display:block;">6-element StaticArraysCore.SVector{6, Float64} with indices SOneTo(6):
 180191.31638579842
 360539.43904398684
 -53907.54565836778
     24.296925174856536
    -12.133987855895205
      0.9636312231014527</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; vector6(FRAMES, Earth, SC, ITRF, e)</code><code class="nohighlight hljs ansi" style="display:block;">6-element StaticArraysCore.SVector{6, Float64} with indices SOneTo(6):
 180632.14455485757
 360316.90747540275
 -53920.08555987021
     24.281930059864898
    -12.163664688380054
      0.9635795960568233</code></pre><p>while the position with respect to the Moon in the <code>IAU_MOON</code> and <code>PA421</code> axes:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; vector3(FRAMES, Moon, SC, IAU_MOON, e)</code><code class="nohighlight hljs ansi" style="display:block;">3-element StaticArraysCore.SVector{3, Float64} with indices SOneTo(3):
 -2265.003321467859
  -201.71716040981087
   -12.088876530484505</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; vector3(FRAMES, Moon, SC, MOONPA_DE440, e)</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: `MOONPA_DE440` not defined</code></pre><p>These last examples are intended to show how easily the state of a spacecraft with respect to any other body can be retrieved by properly leveraging the [<code>FrameSystem</code>] and the high-level routines provided by this package. </p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../t03_cr3bp/">« 04 - Use Case: CR3BP</a><a class="docs-footer-nextpage" href="../t05_multithread/">06 - Multithreading »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label></p><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div><p></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.0 on <span class="colophon-date" title="Friday 29 September 2023 16:53">Friday 29 September 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></HTML>